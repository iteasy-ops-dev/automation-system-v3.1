#!/bin/bash

# ========================================
# ë¹ ë¥¸ ë³µì› í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
# ========================================

LATEST_BACKUP=$(ls -td /Users/leesg/Documents/work_ops/automation-system/backups/*/ | head -1)

echo "ğŸ” ìµœì‹  ë°±ì—… ì°¾ê¸°: $LATEST_BACKUP"

if [ -f "$LATEST_BACKUP/smart-restore.sh" ]; then
    echo "âœ… ìŠ¤ë§ˆíŠ¸ ë³µì› ìŠ¤í¬ë¦½íŠ¸ ë°œê²¬"
    echo ""
    echo "ë³µì›ì„ ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/N)"
    read -r response
    
    if [[ "$response" =~ ^[Yy]$ ]]; then
        echo "ğŸš€ ìŠ¤ë§ˆíŠ¸ ë³µì› ì‹œì‘..."
        cd "$LATEST_BACKUP"
        ./smart-restore.sh
    else
        echo "âŒ ë³µì› ì·¨ì†Œë¨"
    fi
else
    echo "âŒ ìŠ¤ë§ˆíŠ¸ ë³µì› ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"
    echo "ì‚¬ìš© ê°€ëŠ¥í•œ ë°±ì—…:"
    ls -la /Users/leesg/Documents/work_ops/automation-system/backups/
fi
