# ========================================
# 통합 자동화 시스템 v3.1 환경 설정
# ========================================

# ----------------------------------------
# 애플리케이션 기본 설정
# ----------------------------------------
NODE_ENV=development
APP_VERSION=v3.1.0

# ----------------------------------------
# 보안 및 인증
# ----------------------------------------
# JWT 시크릿 키 (production에서는 반드시 변경)
JWT_SECRET=your-super-secret-jwt-key-change-in-production-minimum-32-characters

# JWT 토큰 만료 시간
JWT_EXPIRES_IN=1h
REFRESH_TOKEN_EXPIRES_IN=7d

# 데이터 암호화 키 (32바이트 hex)
ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# ----------------------------------------
# 데이터베이스 설정
# ----------------------------------------
# PostgreSQL
POSTGRES_PASSWORD=automation_postgres_pass_2024

# MongoDB
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=automation_mongo_pass_2024

# Redis
REDIS_PASSWORD=automation_redis_pass_2024

# InfluxDB
INFLUXDB_USERNAME=admin
INFLUXDB_PASSWORD=automation_influx_pass_2024
INFLUXDB_ORG=automation
INFLUXDB_BUCKET=device-metrics
INFLUXDB_TOKEN=automation-influxdb-token-2024-change-in-production

# ----------------------------------------
# 객체 스토리지 (MinIO/S3)
# ----------------------------------------
MINIO_ROOT_USER=automation_admin
MINIO_ROOT_PASSWORD=automation_minio_pass_2024
S3_BUCKET_NAME=automation-data

# ----------------------------------------
# LLM 프로바이더 API 키
# ----------------------------------------
# OpenAI API Key
OPENAI_API_KEY=your-openai-api-key-here

# Anthropic API Key
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# Google API Key (선택사항)
GOOGLE_API_KEY=your-google-api-key-here

# ----------------------------------------
# n8n 워크플로우 엔진 설정
# ----------------------------------------
N8N_ENCRYPTION_KEY=your-n8n-encryption-key-change-in-production
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=automation_n8n_pass_2024

# ----------------------------------------
# 모니터링 및 관찰성
# ----------------------------------------
GRAFANA_ADMIN_PASSWORD=automation_grafana_pass_2024
PROMETHEUS_RETENTION_TIME=15d

# ----------------------------------------
# 성능 및 동작 설정
# ----------------------------------------
# CORS 허용 도메인
CORS_ORIGINS=http://localhost:3001,http://localhost:3002,http://localhost:3003

# 메트릭 수집 간격 (밀리초)
METRICS_COLLECTION_INTERVAL=300000

# MCP 연결 설정
MCP_CONNECTION_POOL_SIZE=10
MCP_CONNECTION_TIMEOUT=30000
MCP_EXECUTION_TIMEOUT=300000

# LLM 캐시 설정
LLM_CACHE_TTL=3600
TOKEN_LIMIT_WARNING_THRESHOLD=80

# ----------------------------------------
# 개발 환경 전용 설정
# ----------------------------------------
# 개발 모드에서만 사용 (production에서는 제거)
DEBUG=automation:*
LOG_LEVEL=debug

# ----------------------------------------
# 알림 및 통합 (선택사항)
# ----------------------------------------
# Slack 웹훅 (알림용)
SLACK_WEBHOOK_URL=

# 이메일 설정 (알림용)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=

# ----------------------------------------
# 보안 헤더 및 설정
# ----------------------------------------
# HTTPS 리다이렉트 (production)
FORCE_HTTPS=false

# 세션 보안
SESSION_SECURE=false
SESSION_SAME_SITE=lax

# API Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000


# ----------------------------------------
# Role 매핑 설정
# ----------------------------------------
# Role 매핑 활성화 (true: 레거시→계약 변환, false: 원본 유지)
ROLE_MAPPING_ENABLED=false

# Role 매핑 모드 (strict: 계약만, compatible: 모두 허용, legacy: 레거시만)
ROLE_MAPPING_MODE=compatible

# Role 변환 로깅 활성화
ROLE_MAPPING_LOG=false