openapi: 3.0.3
info:
  title: LLM Service API
  version: 1.0.0
  description: LLM í”„ë¡œë°”ì´ë” í†µí•© API (ì„¹ì…˜ 2.5 ê¸°ë°˜)
  contact:
    name: Backend Team - Domains
    email: backend-domains@automation-system.com
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

servers:
  - url: http://localhost:8301/api/v1
    description: Development server
  - url: http://llm-service:8301/api/v1
    description: Internal service communication

paths:
  /llm/chat:
    post:
      summary: ëŒ€í™” ìš”ì²­
      description: LLMê³¼ì˜ ëŒ€í™”ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤. ì„¹ì…˜ 4.1ì˜ ì˜ë„ ë¶„ì„ ë° ìš”ì•½ ìƒì„±ì„ ì§€ì›í•©ë‹ˆë‹¤.
      operationId: chatWithLLM
      tags:
        - Chat
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChatRequest'
            examples:
              intent_analysis:
                summary: ì˜ë„ ë¶„ì„ ìš”ì²­
                value:
                  messages:
                    - role: "system"
                      content: "ë‹¹ì‹ ì€ IT ì¸í”„ë¼ ê´€ë¦¬ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì‚¬ìš©ìì˜ ìš”ì²­ì„ ë¶„ì„í•˜ì—¬ ì ì ˆí•œ ì‘ì—…ì„ ì¶”ì²œí•´ì£¼ì„¸ìš”."
                    - role: "user"
                      content: "ëª¨ë“  ì›¹ ì„œë²„ì˜ CPU ì‚¬ìš©ë¥ ì„ í™•ì¸í•˜ê³  90% ì´ìƒì¸ ì„œë²„ë¥¼ ì¬ì‹œì‘í•´ì¤˜"
                  model: "gpt-4"
                  temperature: 0.1
                  maxTokens: 500
              summary_generation:
                summary: ê²°ê³¼ ìš”ì•½ ìƒì„±
                value:
                  messages:
                    - role: "system"
                      content: "ë‹¤ìŒ ì‘ì—… ê²°ê³¼ë¥¼ ì‚¬ìš©ìê°€ ì´í•´í•˜ê¸° ì‰½ê²Œ ìš”ì•½í•´ì£¼ì„¸ìš”."
                    - role: "user"
                      content: "CPU ì‚¬ìš©ë¥  í™•ì¸ ê²°ê³¼: web-server-01: 45%, web-server-02: 92%, web-server-03: 88%. web-server-02ë¥¼ ì¬ì‹œì‘í–ˆìŠµë‹ˆë‹¤."
                  temperature: 0.3
                  maxTokens: 200
      responses:
        '200':
          description: ëŒ€í™” ì‘ë‹µ ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChatResponse'
              examples:
                intent_response:
                  summary: ì˜ë„ ë¶„ì„ ì‘ë‹µ
                  value:
                    id: "660e8400-e29b-41d4-a716-446655440001"
                    model: "gpt-4"
                    usage:
                      promptTokens: 120
                      completionTokens: 85
                      totalTokens: 205
                    choices:
                      - message:
                          role: "assistant"
                          content: |
                            ë¶„ì„ëœ ì‘ì—…:
                            1. ì›¹ ì„œë²„ ê·¸ë£¹ì˜ CPU ì‚¬ìš©ë¥  ëª¨ë‹ˆí„°ë§
                            2. CPU ì‚¬ìš©ë¥  90% ì´ìƒì¸ ì„œë²„ ì‹ë³„
                            3. í•´ë‹¹ ì„œë²„ë“¤ì˜ ì„œë¹„ìŠ¤ ì¬ì‹œì‘

                            ì¶”ì²œ ì›Œí¬í”Œë¡œìš°:
                            - ì¥ë¹„ ê·¸ë£¹ "web-servers" ì¡°íšŒ
                            - ê° ì„œë²„ì˜ í˜„ì¬ CPU ë©”íŠ¸ë¦­ ìˆ˜ì§‘
                            - ì„ê³„ê°’ (90%) ì´ˆê³¼ ì„œë²„ í•„í„°ë§
                            - ëŒ€ìƒ ì„œë²„ë“¤ì— ì¬ì‹œì‘ ëª…ë ¹ ì‹¤í–‰
                summary_response:
                  summary: ìš”ì•½ ìƒì„± ì‘ë‹µ
                  value:
                    id: "770e8400-e29b-41d4-a716-446655440002"
                    model: "gpt-4"
                    usage:
                      promptTokens: 95
                      completionTokens: 42
                      totalTokens: 137
                    choices:
                      - message:
                          role: "assistant"
                          content: |
                            âœ… CPU ëª¨ë‹ˆí„°ë§ ì™„ë£Œ
                            ğŸ“Š 3ëŒ€ ì„œë²„ ì¤‘ 1ëŒ€ (web-server-02)ê°€ ë†’ì€ CPU ì‚¬ìš©ë¥ (92%) ê°ì§€
                            ğŸ”„ web-server-02 ì¬ì‹œì‘ ì™„ë£Œ
                            
                            í˜„ì¬ ìƒíƒœ: ëª¨ë“  ì„œë²„ ì •ìƒ ìš´ì˜ ì¤‘
        '400':
          description: ì˜ëª»ëœ ìš”ì²­ ë°ì´í„°
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: ì¸ì¦ í•„ìš”
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '429':
          description: ìš”ì²­ í•œë„ ì´ˆê³¼
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '503':
          description: LLM í”„ë¡œë°”ì´ë” ì‚¬ìš© ë¶ˆê°€
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /llm/models:
    get:
      summary: ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë¸ ëª©ë¡ ì¡°íšŒ
      description: í˜„ì¬ ì‚¬ìš© ê°€ëŠ¥í•œ LLM ëª¨ë¸ë“¤ì˜ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
      operationId: getAvailableModels
      tags:
        - Models
      parameters:
        - name: provider
          in: query
          schema:
            type: string
            enum: [openai, anthropic, google, azure]
          description: í”„ë¡œë°”ì´ë”ë³„ í•„í„°ë§
        - name: capability
          in: query
          schema:
            type: string
            enum: [chat, completion, embedding, image]
          description: ê¸°ëŠ¥ë³„ í•„í„°ë§
      responses:
        '200':
          description: ëª¨ë¸ ëª©ë¡ ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModelsResponse'
              examples:
                available_models:
                  summary: ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë¸ ëª©ë¡
                  value:
                    models:
                      - id: "gpt-4"
                        name: "GPT-4"
                        provider: "openai"
                        capabilities: ["chat", "completion"]
                        contextWindow: 8192
                        costPer1kTokens:
                          input: 0.03
                          output: 0.06
                        status: "active"
                        description: "OpenAIì˜ ê°€ì¥ ê°•ë ¥í•œ ì–¸ì–´ ëª¨ë¸"
                      - id: "claude-3-opus"
                        name: "Claude 3 Opus"
                        provider: "anthropic"
                        capabilities: ["chat"]
                        contextWindow: 200000
                        costPer1kTokens:
                          input: 0.015
                          output: 0.075
                        status: "active"
                        description: "Anthropicì˜ ìµœê³  ì„±ëŠ¥ ëª¨ë¸"
        '401':
          description: ì¸ì¦ í•„ìš”
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /llm/usage:
    get:
      summary: ì‚¬ìš©ëŸ‰ ì¡°íšŒ
      description: LLM ì‚¬ìš©ëŸ‰ ë° ë¹„ìš© ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
      operationId: getUsage
      tags:
        - Usage
      parameters:
        - name: start
          in: query
          schema:
            type: string
            format: date-time
          description: ì¡°íšŒ ì‹œì‘ ì‹œê°„
        - name: end
          in: query
          schema:
            type: string
            format: date-time
          description: ì¡°íšŒ ì¢…ë£Œ ì‹œê°„
        - name: provider
          in: query
          schema:
            type: string
          description: í”„ë¡œë°”ì´ë”ë³„ í•„í„°ë§
        - name: model
          in: query
          schema:
            type: string
          description: ëª¨ë¸ë³„ í•„í„°ë§
        - name: groupBy
          in: query
          schema:
            type: string
            enum: [provider, model, user, hour, day]
            default: day
          description: ê·¸ë£¹í™” ê¸°ì¤€
      responses:
        '200':
          description: ì‚¬ìš©ëŸ‰ ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UsageResponse'
              examples:
                daily_usage:
                  summary: ì¼ë³„ ì‚¬ìš©ëŸ‰
                  value:
                    period:
                      start: "2024-01-15T00:00:00Z"
                      end: "2024-01-15T23:59:59Z"
                    summary:
                      totalRequests: 1250
                      totalTokens: 1567890
                      totalCost: 47.15
                      avgResponseTime: 1250
                    breakdown:
                      - provider: "openai"
                        model: "gpt-4"
                        requests: 850
                        tokens:
                          input: 567890
                          output: 234567
                        cost: 32.45
                        avgResponseTime: 1100
                      - provider: "anthropic"
                        model: "claude-3-opus"
                        requests: 400
                        tokens:
                          input: 456789
                          output: 308654
                        cost: 14.70
                        avgResponseTime: 1450
        '400':
          description: ì˜ëª»ëœ ìš”ì²­ íŒŒë¼ë¯¸í„°
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: ì¸ì¦ í•„ìš”
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /llm/templates:
    get:
      summary: í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ëª©ë¡ ì¡°íšŒ
      description: ë“±ë¡ëœ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ë“¤ì˜ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
      operationId: getPromptTemplates
      tags:
        - Templates
      parameters:
        - name: category
          in: query
          schema:
            type: string
          description: ì¹´í…Œê³ ë¦¬ë³„ í•„í„°ë§
          example: "intent_analysis"
        - name: search
          in: query
          schema:
            type: string
          description: í…œí”Œë¦¿ëª… ê²€ìƒ‰
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: í…œí”Œë¦¿ ëª©ë¡ ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplatesResponse'
        '400':
          description: ì˜ëª»ëœ ìš”ì²­ íŒŒë¼ë¯¸í„°
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: ì¸ì¦ í•„ìš”
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

    post:
      summary: í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ìƒì„±
      description: ìƒˆë¡œìš´ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ì„ ìƒì„±í•©ë‹ˆë‹¤.
      operationId: createPromptTemplate
      tags:
        - Templates
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TemplateCreate'
      responses:
        '201':
          description: í…œí”Œë¦¿ ìƒì„± ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Template'
        '400':
          description: ì˜ëª»ëœ ìš”ì²­ ë°ì´í„°
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: ì¸ì¦ í•„ìš”
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '409':
          description: ì¤‘ë³µëœ í…œí”Œë¦¿ëª…
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /llm/stream:
    post:
      summary: ìŠ¤íŠ¸ë¦¬ë° ëŒ€í™” ìš”ì²­
      description: ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°ìœ¼ë¡œ LLM ì‘ë‹µì„ ë°›ìŠµë‹ˆë‹¤.
      operationId: streamChat
      tags:
        - Chat
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StreamChatRequest'
      responses:
        '200':
          description: ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ ì‹œì‘
          content:
            text/event-stream:
              schema:
                type: string
                description: Server-Sent Events í˜•íƒœì˜ ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ
              examples:
                streaming_response:
                  summary: ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ ì˜ˆì‹œ
                  value: |
                    data: {"type":"start","id":"660e8400-e29b-41d4-a716-446655440001"}
                    
                    data: {"type":"token","content":"ë¶„ì„ëœ"}
                    
                    data: {"type":"token","content":" ì‘ì—…:"}
                    
                    data: {"type":"done","usage":{"totalTokens":205}}
        '400':
          description: ì˜ëª»ëœ ìš”ì²­ ë°ì´í„°
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: ì¸ì¦ í•„ìš”
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

components:
  schemas:
    ChatRequest:
      type: object
      required:
        - messages
      properties:
        messages:
          type: array
          items:
            $ref: '#/components/schemas/ChatMessage'
          description: ëŒ€í™” ë©”ì‹œì§€ ë°°ì—´
          minItems: 1
        model:
          type: string
          description: ì‚¬ìš©í•  ëª¨ë¸ (ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ìë™ ì„ íƒ)
          example: "gpt-4"
        temperature:
          type: number
          minimum: 0
          maximum: 2
          default: 0.7
          description: ì‘ë‹µì˜ ì°½ì˜ì„± ìˆ˜ì¤€
        maxTokens:
          type: integer
          minimum: 1
          maximum: 8192
          default: 1000
          description: ìµœëŒ€ ì‘ë‹µ í† í° ìˆ˜
        stream:
          type: boolean
          default: false
          description: ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ ì—¬ë¶€
        topP:
          type: number
          minimum: 0
          maximum: 1
          description: ëˆ„ì  í™•ë¥  ì„ê³„ê°’
        frequencyPenalty:
          type: number
          minimum: -2
          maximum: 2
          description: ë¹ˆë„ í˜ë„í‹°
        presencePenalty:
          type: number
          minimum: -2
          maximum: 2
          description: ì¡´ì¬ í˜ë„í‹°
        stop:
          type: array
          items:
            type: string
          description: ì‘ë‹µ ì¤‘ë‹¨ ì‹œí€€ìŠ¤
        metadata:
          type: object
          additionalProperties: true
          description: ì¶”ê°€ ë©”íƒ€ë°ì´í„°

    ChatMessage:
      type: object
      required:
        - role
        - content
      properties:
        role:
          type: string
          enum: [system, user, assistant]
          description: ë©”ì‹œì§€ ì—­í• 
          example: "user"
        content:
          type: string
          description: ë©”ì‹œì§€ ë‚´ìš©
          example: "ëª¨ë“  ì›¹ ì„œë²„ì˜ CPU ì‚¬ìš©ë¥ ì„ í™•ì¸í•´ì¤˜"
        name:
          type: string
          description: ë©”ì‹œì§€ ë°œì‹ ìëª… (ì„ íƒì )

    ChatResponse:
      type: object
      required:
        - id
        - model
        - usage
        - choices
      properties:
        id:
          type: string
          format: uuid
          description: ì‘ë‹µ ê³ ìœ  ID
          example: "660e8400-e29b-41d4-a716-446655440001"
        model:
          type: string
          description: ì‚¬ìš©ëœ ëª¨ë¸
          example: "gpt-4"
        usage:
          $ref: '#/components/schemas/TokenUsage'
        choices:
          type: array
          items:
            $ref: '#/components/schemas/ChatChoice'
          description: ì‘ë‹µ ì„ íƒì§€
        createdAt:
          type: string
          format: date-time
          description: ìƒì„± ì‹œê°„
          example: "2024-01-15T10:30:00Z"
        finishReason:
          type: string
          enum: [stop, length, content_filter, tool_calls]
          description: ì™„ë£Œ ì´ìœ 

    ChatChoice:
      type: object
      required:
        - message
      properties:
        message:
          $ref: '#/components/schemas/ChatMessage'
        finishReason:
          type: string
          enum: [stop, length, content_filter]
          description: ì™„ë£Œ ì´ìœ 
        index:
          type: integer
          description: ì„ íƒì§€ ì¸ë±ìŠ¤

    TokenUsage:
      type: object
      required:
        - promptTokens
        - completionTokens
        - totalTokens
      properties:
        promptTokens:
          type: integer
          description: ì…ë ¥ í† í° ìˆ˜
          example: 120
        completionTokens:
          type: integer
          description: ì¶œë ¥ í† í° ìˆ˜
          example: 85
        totalTokens:
          type: integer
          description: ì´ í† í° ìˆ˜
          example: 205
        cost:
          type: number
          description: ì˜ˆìƒ ë¹„ìš© (USD)
          example: 0.006

    ModelInfo:
      type: object
      required:
        - id
        - name
        - provider
        - capabilities
        - status
      properties:
        id:
          type: string
          description: ëª¨ë¸ ID
          example: "gpt-4"
        name:
          type: string
          description: ëª¨ë¸ëª…
          example: "GPT-4"
        provider:
          type: string
          enum: [openai, anthropic, google, azure]
          description: ì œê³µì—…ì²´
          example: "openai"
        capabilities:
          type: array
          items:
            type: string
            enum: [chat, completion, embedding, image]
          description: ì§€ì› ê¸°ëŠ¥
          example: ["chat", "completion"]
        contextWindow:
          type: integer
          description: ì»¨í…ìŠ¤íŠ¸ ìœˆë„ìš° í¬ê¸°
          example: 8192
        costPer1kTokens:
          type: object
          properties:
            input:
              type: number
              description: ì…ë ¥ í† í° 1Kë‹¹ ë¹„ìš©
            output:
              type: number
              description: ì¶œë ¥ í† í° 1Kë‹¹ ë¹„ìš©
        status:
          type: string
          enum: [active, maintenance, deprecated]
          description: ëª¨ë¸ ìƒíƒœ
          example: "active"
        description:
          type: string
          description: ëª¨ë¸ ì„¤ëª…
        version:
          type: string
          description: ëª¨ë¸ ë²„ì „

    ModelsResponse:
      type: object
      required:
        - models
      properties:
        models:
          type: array
          items:
            $ref: '#/components/schemas/ModelInfo'
        lastUpdated:
          type: string
          format: date-time
          description: ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ ì‹œê°„

    UsageResponse:
      type: object
      required:
        - period
        - summary
        - breakdown
      properties:
        period:
          type: object
          required:
            - start
            - end
          properties:
            start:
              type: string
              format: date-time
            end:
              type: string
              format: date-time
        summary:
          type: object
          required:
            - totalRequests
            - totalTokens
            - totalCost
          properties:
            totalRequests:
              type: integer
              description: ì´ ìš”ì²­ ìˆ˜
            totalTokens:
              type: integer
              description: ì´ í† í° ìˆ˜
            totalCost:
              type: number
              description: ì´ ë¹„ìš©
            avgResponseTime:
              type: number
              description: í‰ê·  ì‘ë‹µ ì‹œê°„ (ms)
        breakdown:
          type: array
          items:
            $ref: '#/components/schemas/UsageBreakdown'

    UsageBreakdown:
      type: object
      required:
        - provider
        - model
        - requests
        - tokens
        - cost
      properties:
        provider:
          type: string
          description: í”„ë¡œë°”ì´ë”
        model:
          type: string
          description: ëª¨ë¸
        requests:
          type: integer
          description: ìš”ì²­ ìˆ˜
        tokens:
          type: object
          properties:
            input:
              type: integer
            output:
              type: integer
        cost:
          type: number
          description: ë¹„ìš©
        avgResponseTime:
          type: number
          description: í‰ê·  ì‘ë‹µ ì‹œê°„

    Template:
      type: object
      required:
        - id
        - name
        - category
        - template
        - createdAt
      properties:
        id:
          type: string
          format: uuid
          description: í…œí”Œë¦¿ ID
        name:
          type: string
          description: í…œí”Œë¦¿ëª…
        category:
          type: string
          description: ì¹´í…Œê³ ë¦¬
        template:
          type: string
          description: í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿
        variables:
          type: array
          items:
            type: string
          description: í…œí”Œë¦¿ ë³€ìˆ˜ ëª©ë¡
        description:
          type: string
          description: í…œí”Œë¦¿ ì„¤ëª…
        model:
          type: string
          description: ê¶Œì¥ ëª¨ë¸
        parameters:
          type: object
          description: ê¸°ë³¸ ë§¤ê°œë³€ìˆ˜
        examples:
          type: array
          items:
            type: object
          description: ì‚¬ìš© ì˜ˆì œ
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    TemplateCreate:
      type: object
      required:
        - name
        - category
        - template
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 100
        category:
          type: string
        template:
          type: string
        description:
          type: string
        model:
          type: string
        parameters:
          type: object
        examples:
          type: array
          items:
            type: object

    TemplatesResponse:
      type: object
      required:
        - items
        - total
        - limit
        - offset
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/Template'
        total:
          type: integer
        limit:
          type: integer
        offset:
          type: integer

    StreamChatRequest:
      allOf:
        - $ref: '#/components/schemas/ChatRequest'
        - type: object
          properties:
            stream:
              type: boolean
              enum: [true]
              description: ìŠ¤íŠ¸ë¦¬ë°ì€ í•­ìƒ true

    ErrorResponse:
      type: object
      required:
        - error
        - message
        - timestamp
      properties:
        error:
          type: string
          description: ì˜¤ë¥˜ ì½”ë“œ
          example: "INVALID_MODEL"
        message:
          type: string
          description: ì˜¤ë¥˜ ë©”ì‹œì§€
          example: "Model 'gpt-5' is not available"
        timestamp:
          type: string
          format: date-time
          description: ì˜¤ë¥˜ ë°œìƒ ì‹œê°„
          example: "2024-01-15T10:30:00Z"
        details:
          type: object
          additionalProperties: true
          description: ì¶”ê°€ ì˜¤ë¥˜ ìƒì„¸ ì •ë³´

  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

security:
  - bearerAuth: []

tags:
  - name: Chat
    description: LLM ëŒ€í™” API
  - name: Models
    description: ëª¨ë¸ ê´€ë¦¬ API
  - name: Usage
    description: ì‚¬ìš©ëŸ‰ ì¶”ì  API
  - name: Templates
    description: í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ API
